## Система автоматизации новостей в Telegram

Система представляет собой интеллектуального Telegram-бота, который автоматически собирает, анализирует и публикует новости по заданным темам. Это полноценная платформа для управления контентом с расширенными возможностями администрирования, построенная на современных технологиях искусственного интеллекта и обработки естественного языка.

### Основные функции системы

**Автоматический сбор новостей**
Система регулярно мониторит различные источники информации, включая RSS-ленты и Telegram-каналы, используя специализированные парсеры для каждого типа источника. Она автоматически извлекает статьи, сохраняет их в PostgreSQL базу данных и генерирует семантические эмбеддинги для последующего векторного поиска.

**Интеллектуальный поиск и анализ**
Используя технологии машинного обучения и RAG (Retrieval-Augmented Generation), система создает векторные представления статей с помощью Sentence Transformers, что позволяет находить релевантный контент по смыслу, а не только по ключевым словам. Семантический поиск обеспечивает высокую точность даже при неточных запросах, а ретривер эффективно отбирает наиболее подходящие документы из базы данных.

**Автоматическая публикация**
Система публикует статьи в Telegram-канал по расписанию, используя интеллектуальный алгоритм выбора контента на основе установленной темы недели и семантической близости. Публикации происходят в оптимальное время для максимального охвата аудитории.

**Управление контентом**
Администраторы могут вручную добавлять статьи, управлять пулом подготовленных постов, устанавливать темы недели и контролировать все аспекты работы системы через удобный интерфейс с использованием клавиатурных кнопок.

### Как работает система на практике

**Еженедельный цикл работы**

**Понедельник - установка темы недели:**
В понедельник в 9:00 система автоматически выбирает новую тему недели из предустановленного списка (LLM, Data Engineering, Machine Learning, AI, Big Data) или администратор может задать тему вручную через Telegram-админ-панель. После установки темы система формирует пул релевантных статей, используя семантический поиск по базе данных на основе векторных эмбеддингов.

**Вторник-четверг - ежедневные публикации:**
В будние дни система автоматически публикует по 2 новостных поста в оптимальное время (12:00-14:00 и 19:00-21:00). Каждый пост выбирается из подготовленного пула статей на основе семантической близости к теме недели, при этом система исключает уже опубликованные ссылки, чтобы избежать дублирования контента.

**Пятница - еженедельное саммари:**
В пятницу в 9:00 RAG-модель анализирует все новости, опубликованные за неделю, и создает интеллектуальную сводку, которая суммирует ключевые события и тренды по выбранной теме. Этот пост публикуется в канал как итоговый отчет недели.

**Административное управление через Telegram**

**Доступ к админ-панели:**
Администраторы получают доступ к системе через команду `/start` в Telegram. Система проверяет права доступа и предоставляет расширенное меню управления с кнопками для всех функций.

**Управление контентом:**
- **"Задать тему недели"** - позволяет установить новую тему и автоматически переформировать пул статей
- **"Управление пулом постов"** - просмотр и регенерация подготовленных статей
- **"Добавить статью"** - ручное добавление контента с пошаговым интерфейсом
- **"Поиск"** - семантический поиск по базе данных статей

**Мониторинг и аналитика:**
- **"Статус"** - показывает текущее состояние системы, тему недели и количество статей в пуле
- **"Состояние базы"** - детальная информация о количестве записей в каждой таблице
- **"Метрики"** - статистика Prometheus в реальном времени
- **"Просмотр логов"** - доступ к системным логам и ошибкам

**Тестовые функции:**
- **"Запустить парсинг"** - принудительный запуск сбора новостей
- **"Генерация эмбеддингов"** - обновление векторных представлений
- **"Создать саммари"** - ручной запуск генерации еженедельного отчета

### Технологический стек

**Основные технологии**
- **Python** - основной язык программирования
- **Telethon** - библиотека для работы с Telegram API
- **PostgreSQL** - реляционная база данных для хранения статей, эмбеддингов и метаданных
- **APScheduler** - планировщик задач для автоматизации процессов
- **AsyncPG** - асинхронный драйвер для работы с PostgreSQL

**Машинное обучение и анализ**
- **Sentence Transformers** - для создания семантических эмбеддингов текста
- **Векторный поиск** - для нахождения релевантного контента по косинусному сходству
- **RAG (Retrieval-Augmented Generation)** - архитектура для интеллектуального поиска и генерации
- **Семантический ретривер** - для эффективного извлечения релевантных документов
- **Саммаризатор** - для создания кратких сводок и отчетов

**Парсинг и обработка данных**
- **BeautifulSoup** - для парсинга HTML-контента
- **Feedparser** - для обработки RSS-лент
- **Универсальные парсеры** - модульная система для работы с различными источниками
- **Асинхронная обработка** - для эффективной работы с множественными источниками

**Мониторинг и аналитика**
- **Prometheus** - система мониторинга производительности с метриками
- **Логирование** - детальное отслеживание всех операций
- **Метрики** - статистика работы системы в реальном времени

### Архитектура системы

**Модульная структура**
Система разделена на логические модули: универсальные парсеры для разных источников, семантический поисковый движок с ретривером, генератор отчетов с саммаризатором, административная панель и планировщик задач. Каждый модуль работает независимо, что обеспечивает надежность и легкость поддержки.

**База данных**
PostgreSQL хранит статьи, их векторные эмбеддинги, настройки системы, информацию об администраторах и опубликованных ссылках. Структура базы оптимизирована для быстрого векторного поиска и эффективного хранения больших объемов данных с использованием специализированных индексов.

**Административная панель**
Предоставляет полный контроль над системой через Telegram-интерфейс: включение/выключение публикаций, управление пользователями, просмотр статистики, настройка расписания и мониторинг состояния базы данных с возможностью тестирования функций.

### Дополнительные возможности

**Еженедельные отчеты**
Система автоматически создает и публикует сводки по выбранной теме недели, используя RAG-архитектуру для анализа собранных статей и выделения ключевых трендов с помощью саммаризатора.

**Гибкая настройка**
Возможность добавления новых источников информации через универсальные парсеры, изменения расписания публикаций, настройки тем и параметров семантического поиска без остановки системы.

**Масштабируемость**
Архитектура позволяет легко добавлять новые функции, источники данных и каналы публикации, что делает систему готовой к росту и развитию благодаря модульной структуре и асинхронной обработке.

Ваша система представляет собой современное решение для автоматизации контент-маркетинга, сочетающее в себе мощные технологии машинного обучения, векторные базы данных, RAG-архитектуру и семантический поиск с удобным интерфейсом управления и надежной архитектурой.
